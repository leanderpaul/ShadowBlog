(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(38),r=a.n(s),c=a(6),o=a(8),i=a(7),m=a(4),u=a(9),d=a(2),h=a(17),g=a(18),E=a.n(g),b=a(22),p=a.n(b),v=a(20),f=a(39),N=function(e){return l.a.createElement("div",null,l.a.createElement("ul",{className:"right hide-on-med-and-down"},l.a.createElement("li",null,l.a.createElement(d.c,{to:"/new-post"},"Create Post")),l.a.createElement("li",null,l.a.createElement("a",{href:"/login",onClick:e.logout},"Log Out"))),l.a.createElement("ul",{className:"sidenav",id:"nav-mobile"},l.a.createElement("li",null,l.a.createElement(d.c,{to:"/new-post"},"Create Post")),l.a.createElement("li",null,l.a.createElement("a",{href:"/login",onClick:e.logout},"Log Out"))))},w=function(e){return l.a.createElement("div",null,l.a.createElement("ul",{className:"right hide-on-med-and-down"},l.a.createElement("li",null,l.a.createElement(d.c,{to:"/register"},"Register")),l.a.createElement("li",null,l.a.createElement(d.c,{to:"/login"},"Login"))),l.a.createElement("ul",{className:"sidenav",id:"nav-mobile"},l.a.createElement("li",null,l.a.createElement(d.c,{to:"/register"},"Register")),l.a.createElement("li",null,l.a.createElement(d.c,{to:"/login"},"Login"))))},j=a(42),O=function(e){var t,a=e.user,n=e.logout,s="";return a?(t=l.a.createElement(N,{logout:n,user:a}),s=l.a.createElement("a",{href:"/",className:"btn btn-floating pink lighten-1"},"L")):t=l.a.createElement(w,null),l.a.createElement("nav",{className:"nav-wrapper grey darken-3"},l.a.createElement("div",{className:"container"},l.a.createElement("a",{className:"sidenav-trigger left nav-slider hide-on-large","data-target":"nav-mobile"},l.a.createElement(j.a,{icon:"align-justify",size:"lg"})),l.a.createElement(d.b,{to:"/",className:"brand-logo"},"Shadow Blog"),l.a.createElement("div",{className:"right nav"},s),t))},C=a(15),y=a(13),S=a.n(y),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={username:"",password:""},a.handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={username:a.state.username,password:a.state.password};S.a.post("http://localhost:8080/login",t).then(function(e){console.log(e.data),e.data.success&&(E.a.set("ShadowBlogUser",e.data.token),a.props.setUser())}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.user?l.a.createElement(h.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h1",{className:"center-align"},"Login Account"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("form",{className:"col s12",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"email",type:"email",className:"validate",name:"username",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"email"},"Email"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"password",type:"password",className:"validate",name:"password",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"password"},"Password"))),l.a.createElement("div",{className:"row center-align"},l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit"},"Submit")))))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={submitClass:["btn","waves-effect","waves-light"],firstName:"",lastName:"",username:"",password:""},a.validatePassword=function(e){console.log("Password confirm: ".concat(e.target.value===a.state.password))},a.handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={firstName:a.state.firstName,lastName:a.state.lastName,username:a.state.username,password:a.state.password};S.a.post("http://127.0.0.1:8080/register",t).then(function(e){e.data&&alert(e.data.msg)}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.user?l.a.createElement(h.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"center-align"},"Register Account"),l.a.createElement("div",{className:"row"},l.a.createElement("form",{className:"col s12",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",{id:"first_name",type:"text",className:"validate",name:"firstName",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"first_name"},"First Name")),l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",{id:"last_name",type:"text",className:"validate",name:"lastName",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"last_name"},"Last Name"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"email",type:"email",className:"validate",name:"username",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"email"},"Email"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"password",type:"password",className:"validate",name:"password",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"password"},"Password"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"password",type:"password",className:"validate",onChange:this.validatePassword}),l.a.createElement("label",{htmlFor:"password"},"Password"))),l.a.createElement("div",{className:"row center-align"},l.a.createElement("button",{className:this.state.submitClass.join(" "),type:"submit"},"Submit")))))}}]),t}(n.Component),B=a(14),x=a(23),F=a.n(x),L=function(e){var t=e.blogs;if(!t)return l.a.createElement("div",null,"No Blogs to show !!");var a=t.map(function(e){return l.a.createElement(d.b,{to:"/blog/"+e._id,key:e._id},l.a.createElement("div",{className:"card z-depth-0"},l.a.createElement("div",{className:"card-content grey-text text-darken-3 blog-summary"},l.a.createElement("span",{className:"card-title"},e.title),l.a.createElement("p",null,"Posted by ",e.author.firstName," ",e.author.lastName),l.a.createElement("p",{className:"grey-text"},F()(e.date).calendar()))))});return l.a.createElement("div",null,a)},U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={blogs:null,toastMsg:null},S.a.get("http://localhost:8080/all-blogs").then(function(e){e.data.err?console.log(e.data):a.setState(Object(B.a)({},a.state,{blogs:e.data.blogs}))}).catch(function(e){console.log(e)}),a.props.location.state&&a.setState(Object(B.a)({},a.state,{toastMsg:a.props.location.state.msg})),a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.state.toastMsg&&(p.a.toast({html:this.state.toastMsg,classes:"rounded center-align"}),this.setState(Object(B.a)({},this.state,{toastMsg:null}))),l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"center-align"},"Recent Blogs"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"col 8"},l.a.createElement(L,{blogs:this.state.blogs})),l.a.createElement("div",{className:"col 4"}),l.a.createElement("br",null),l.a.createElement("br",null))}}]),t}(n.Component),_=a(43),A=a.n(_),M=a(44),D=a.n(M),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={title:"",content:"<p>Blog Content goes Here !</p>",msg:null},a.handleChange=function(e){a.setState(Object(B.a)({},a.state,Object(C.a)({},e.target.id,e.target.value)))},a.handleContentChange=function(e){a.setState(Object(B.a)({},a.state,{content:e.getData()}))},a.handleSubmitPost=function(){var e=a.state;e.user=a.props.user,S.a.post("http://localhost:8080/new-post",e).then(function(e){!0===e.data.success&&a.setState(Object(B.a)({},a.state,{msg:e.data.msg}))}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.state.msg?l.a.createElement(h.a,{to:{pathname:"/",state:{msg:this.state.msg,success:!0}}}):l.a.createElement("div",{className:"blog-component container"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"title"},"Blog Title"),l.a.createElement("input",{type:"text",name:"title",id:"title",className:"validate",onChange:this.handleChange})),l.a.createElement("br",null),l.a.createElement(A.a,{editor:D.a,data:this.state.content,onChange:function(t,a){e.handleContentChange(a)}}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn right post-btn waves-effect waves-light",onClick:this.handleSubmitPost},"P o s t"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={title:null,content:null,author:null,date:null},S.a.get("http://localhost:8080/blog/"+e.match.params.id).then(function(e){e.data.err?console.log(e.data):a.setState(Object(B.a)({},a.state,e.data.blog))}).catch(function(e){console.log(e)}),a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.state.title?l.a.createElement("div",{className:"container section project-details"},l.a.createElement("div",{className:"card z-depth-0"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"blog-title center-align"},this.state.title),l.a.createElement("div",{className:"lighten-4 grey-text right"},l.a.createElement("div",null,"Posted by ",this.state.author.firstName," ",this.state.author.lastName),l.a.createElement("div",null,F()(this.state.date).calendar()))," ",l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.content},className:"blog-content"}))),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement("div",{className:"container center"},l.a.createElement("p",null,"Loading Blog..."))}}]),t}(n.Component);v.b.add(f.a);var I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={user:null},a.setUser=function(){a.setState({user:E.a.get("ShadowBlogUser")})},a.logout=function(){E.a.remove("ShadowBlogUser"),a.setUser()},a.state={user:E.a.get("ShadowBlogUser")},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){p.a.AutoInit()}}]),Object(m.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(d.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(O,{user:this.state.user,logout:this.logout}),l.a.createElement(h.d,null,l.a.createElement(h.b,{exact:!0,path:"/",component:U}),l.a.createElement(h.b,{path:"/blog/:id",component:z}),l.a.createElement(h.b,{path:"/register",render:function(){return l.a.createElement(P,{user:e.state.user})}}),l.a.createElement(h.b,{path:"/new-post",render:function(){return l.a.createElement(R,{user:e.state.user})}}),l.a.createElement(h.b,{path:"/login",render:function(){return l.a.createElement(k,{user:e.state.user,setUser:e.setUser})}}))))}}]),t}(n.Component);a(100),a(101),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,t,a){e.exports=a(102)}},[[45,1,2]]]);
//# sourceMappingURL=main.c7d327a7.chunk.js.map